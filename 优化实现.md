### 运行 GekkoFS

（1）安装 WSL

​	需开启虚拟化。

（2）安装 GekkoFS

![安装GekkoFS](images\安装GekkoFS.png)

​	安装基础工具和第三方库；编译项目。

（3）实现 WSL2 之间网络互通

wsl2 可以理解为宿主机虚拟出来的一个完整的 Linux 虚拟机，拥有逻辑上独立的网卡。

wsl2 与外界通信需要通过宿主机进行转发。wsl2 访问外部网络时，需要先将请求发往宿主机的虚拟网卡，然后由宿主机的物理网卡将请求转发出去。

**但是，局域网其它主机无法直接访问 wsl2。wsl2 的 IP 是内网中的虚拟 IP，仅宿主机能访问。**

![image-20231118214831403](http://imgs.ronnyz.top/img/202311182148955.png)

解决方法：

法1：端口转发

在宿主机上配置端口转发，把主机的某个端口映射到 WSL2 的 IP 和端口。其他电脑可通过宿主机间接访问 wsl2 上的服务。

法2：虚拟组网工具

使用 Tailscale 实现设备互联。

ssh连接，免密登录配置。

（4）运行 GekkoFS

​	编写运行脚本、程序同步脚本、hostfile 同步脚本。

​	单机环境测试正常，分布式环境测试失败。

I.主机 A 的 RPC 消息可到达主机 B，但主机 B 回复消息失败，且卡顿时间很长。

![respond失败](images\respond失败.png)

II.主机 B 的 RPC 消息可到达主机 A，但主机 A 无法从主机 B 拉取数据，且卡顿时间很长。

![pull_data失败](images\pull data 失败.png)
